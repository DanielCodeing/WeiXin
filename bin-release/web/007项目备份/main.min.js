var ScrollText=function(t){function e(e){this.data=new Array,this.data=e.begin,t.call(this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.createChildren=function(){t.prototype.createChildren.call(this),this.initPanel()},p.initPanel=function(){this.count=110,this.count1=0,EventManage.addEvent(this,this,egret.Event.ENTER_FRAME,this.gogo)},p.gogo=function(){120==++this.count&&(this.count1>=this.data.length?(EventManage.removeEvent(this,this,egret.Event.ENTER_FRAME,this.gogo),this.dispatchEvent(new lcp.LEvent("txtscrollcomplete",this))):this.createTxt(this.data[this.count1].say,this.count1),this.count=0,++this.count1)},p.createTxt=function(t,e){var i=new eui.Label;i.fontFamily="微软雅黑",i.cacheAsBitmap=!0,i.textColor=16777215,i.width=360,i.size=20,i.text=t,i.textAlign=egret.HorizontalAlign.LEFT,i.x=0,i.y=30*e,this.addChild(i)},e}(eui.Group);egret.registerClass(ScrollText,"ScrollText");var GameConfig;!function(t){function e(){var t=window.navigator.userAgent.toLowerCase(),e=""+t.match(/MicroMessenger/i);return"null"==e?!1:"micromessenger"==e?!0:void 0}function i(){return document.body.clientHeight/document.body.clientWidth>1.32}function n(){{var t=window.navigator.userAgent.toLowerCase();""+t.match(/MicroMessenger/i)}return""+t.match(/windows nt/i)=="windows nt"?"windows":""+t.match(/iphone/i)=="iphone"?"ios":""+t.match(/android/i)=="android"?"android":""+t.match(/ipad/i)=="ipad"?"ipad":""+t.match(/linux/i)=="linux"?"linux":""+t.match(/mac/i)=="mac"?"mac":""+t.match(/ucbrower/i)=="ucbrower"?"ucbrower":void console.log("未知系统类型")}function s(){var t=window.navigator.userAgent.toLowerCase();return""+t.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+t.match(/qzone/i)=="qzone"?"qzone":""+t.match(/weibo/i)=="weibo"?"weibo":""+t.match(/qq/i)=="qq"?"qq":""+t.match(/renren/i)=="renren"?"renren":""+t.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+t.match(/douban/i)=="douban"?"douban":"other"}function r(){return egret.MainContext.instance.stage}function a(){return egret.MainContext.instance.stage.stageWidth}function o(){return egret.MainContext.instance.stage.stageHeight}function h(){var t=window.orientation;return 90==t?!1:!0}t.isDebug=!1,t.isOnLine=navigator.onLine,t.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},t.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},t.isWeiXin=e,t.isBigScreen=i,t.systemType=n,t.platformType=s,t.curStage=r,t.curPanel,t.curWidth=a,t.curHeight=o,t.isVertical=h}(GameConfig||(GameConfig={}));var GlobalData;!function(t){t.score=0,t.jssdk,t.openid=""}(GlobalData||(GlobalData={}));var RES;!function(t){var e=function(e){function i(){e.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(i,e);var n=(__define,i);return p=n.prototype,p.getRes=function(e){var i=t.AnalyzerBase.getStringTail(e);return this.fileDic[i]},p.analyzeData=function(t,e){if(e)for(var i=e,n=i.split(new RegExp("\r\n","gi")),s=n.length,r=0;s>r;r++){var a=n[r].indexOf("=");a>1&&(this.fileDic[n[r].substring(0,a)]=n[r].substring(a+1))}},i.TYPE="prop",i}(t.BinAnalyzer);t.PropertiesAnalyzer=e,egret.registerClass(e,"RES.PropertiesAnalyzer")}(RES||(RES={}));var Dictionary=function(){function t(){this._count=0,this._maps={},this._objKeys=[],this._objDatum=[]}var e=__define,i=t;return p=i.prototype,p.add=function(t,e){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)this._maps[t]||this._count++,this._maps[t]=e;else{var i=this._objKeys.lastIndexOf(t);-1==i?(this._objKeys.push(t),this._objDatum.push(e),this._count++):this._objDatum[i]=e}},p.del=function(t){var e;"string"==typeof t||"number"==typeof t||"boolean"==typeof t?this._maps[t]&&(delete this._maps[t],this._count--):(e=this._objKeys.lastIndexOf(t),-1!=e&&(this._objKeys.splice(e,1),this._objDatum.splice(e,1),this._count--))},p.get=function(t){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return this._maps[t]?this._maps[t]:null;var e=this._objKeys.lastIndexOf(t);return-1!=e?this._objDatum[e]:null},p.has=function(t){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return this._maps[t]?!0:!1;var e=this._objKeys.lastIndexOf(t);return-1!=e?!0:null},e(p,"count",function(){return this._count}),p.forEach=function(t,e){void 0===e&&(e=null);for(var i in this._maps)t(i,this._maps[i]);for(var n=0;n<this._objKeys.length;n++){var s=this._objKeys[n];t(this._objKeys[n],this._objDatum[n]),s!=this._objKeys[n]&&n--}},e(p,"elements",function(){var t=[];for(var e in this._maps)t.push({key:e,data:this._maps[e]});for(var i=this._objKeys.length,n=0;i>n;n++)t.push({key:this._objKeys[n],data:this._objDatum[n]});return t}),e(p,"keys",function(){var t=[];for(var e in this._maps)t.push(e);for(var i=this._objKeys.length,n=0;i>n;n++)t.push(this._objKeys[n]);return t}),e(p,"datum",function(){var t=[];for(var e in this._maps)t.push(this._maps[e]);for(var i=this._objKeys.length,n=0;i>n;n++)t.push(this._objDatum[n]);return t}),p.dump=function(){for(var t in this._maps)console.log("key:",t,"---> data:",this._maps[t]);for(var e=this._objKeys.length,i=0;e>i;i++)console.log("key:",typeof this._objKeys[i]," ---> data:",this._objDatum[i])},t}();egret.registerClass(Dictionary,"Dictionary");var EventManage=function(){function t(){}var e=(__define,t);return p=e.prototype,t.addEvent=function(e,i,n,s,r,a,o){void 0===r&&(r=!1),void 0===a&&(a=0),void 0===o&&(o=!1),i.addEventListener(n,s,e,r,a,o),t.instances.push([e,i,n,s,r,a,o])},t.addOnceEvent=function(e,i,n,s,r,a,o){void 0===r&&(r=!1),void 0===a&&(a=0),void 0===o&&(o=!1),t.addEvent(e,i,n,s,r,a,o);var h=function(){t.removeEvent(e,i,n,h,r),t.removeEvent(e,i,n,s,r)};t.addEvent(e,i,n,h,r,a,o)},t.removeEvent=function(e,i,n,s,r){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===r&&(r=!1),!e)return void console.log("监听者参数不能为空！");var a,o,h,l,c=t.instanceslib,d=0,u=!0;i?d|=4:0,n?d|=2:0,s?d|=1:0;var g,f,p=function(){switch(u=!0,d){case 0:a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]);break;case 1:a[t.FUNCTION]==s?a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]):u=!1;break;case 2:a[t.EVENT]==n?a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]):u=!1;break;case 3:a[t.EVENT]==n&&a[t.FUNCTION]==s?a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]):u=!1;break;case 4:a[t.DISPATHCH]==i?a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]):u=!1;break;case 5:a[t.DISPATHCH]==i&&a[t.FUNCTION]==s?a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]):u=!1;break;case 6:a[t.DISPATHCH]==i&&a[t.EVENT]==n?a[t.DISPATHCH].removeEventListener(a[t.EVENT],a[t.FUNCTION],e,a[t.USECAPTURE]):u=!1;break;case 7:a[t.DISPATHCH]==i&&a[t.EVENT]==n&&a[t.FUNCTION]==s?a[t.DISPATHCH].removeEventListener(n,s,e,r):u=!1}};if(o=c.get(e)){for(g=o.length,f=g-1;f>=0;f--)a=o[f],p(),u&&o.splice(f,1);o.length||c.del(e)}for(o=t.instances,g=o.length,o=o.reverse(),f=g-1;f>=0;f--)a=o[f],a[t.KEY]==e?p():u=!1,u?o.pop():h==a[t.KEY]?l.push(o.pop()):(h=o[o.length-1][t.KEY],l=c.get(h),l?l.push(o.pop()):(l=[o.pop()],c.add(a[t.KEY],l)))},t.instanceslib=new Dictionary,t.instances=[],t.KEY=0,t.DISPATHCH=1,t.EVENT=2,t.FUNCTION=3,t.USECAPTURE=4,t.PRIORITY=5,t.USEWEAKREFERENCE=6,t}();egret.registerClass(EventManage,"EventManage");var NoticeManage=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}var e=(__define,t);return p=e.prototype,t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},p.send=function(){PanelManager.showLoading(!0)},t.instance=null,t}();egret.registerClass(NoticeManage,"NoticeManage");var PanelManager;!function(t){function e(){this.sound=RES.getRes("bg_mp3")}function i(){this.closeMuisc(),this.channel=this.sound.play(0,-1)}function n(){this.channel&&(this.channel.stop(),this.channel=null)}function s(){this.game&&(this.game=null),this.game=new GamePanel,t.guiLayer.addChild(this.game)}function r(){}function a(){this.vparm="http://139.129.24.10:82/jm/user",Network.sendInfo("http://139.129.24.10:82/jm/user","openid="+GlobalData.openid+"&shared=1"),lcp.LListener.getInstance().addEventListener(this.vparm,this.getInfoSucc,this)}function o(t){lcp.LListener.getInstance().removeEventListener(this.vparm,this.getInfoSucc,this);JSON.parse(t.param)}function h(){}function l(t){if(!this.loadingMc){var e=RES.getRes("loading_json"),i=RES.getRes("loading_png"),n=new egret.MovieClipDataFactory(e,i);this.loadingMc=new egret.MovieClip(n.generateMovieClipData("loading")),this.loadingMc.x=141,this.loadingMc.y=268,this.loadingMc.play(-1)}}t.loadingMc,t.gameLayer,t.tipsLayer,t.guiLayer,t.sound,t.channel,t.game,t.initMusic=e,t.openMuisc=i,t.closeMuisc=n,t.openGamePanel=s,t.openPanel=r,t.vparm="",t.getInfo=a,t.getInfoSucc=o,t.initGame=h,t.showLoading=l}(PanelManager||(PanelManager={}));var Network;!function(t){function e(t,e,i){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=egret.URLRequestMethod.POST);var n=new egret.URLLoader;n.dataFormat=egret.URLLoaderDataFormat.TEXT,n.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this);var s=new egret.URLRequest(t);s.method=i,s.data=new egret.URLVariables(e),n.load(s)}function i(t){var e=t.target;e.dataFormat=egret.URLLoaderDataFormat.TEXT;var i=e.data,n=e._request.url,s=e._request.method;s&&"post"!=s&&"get"!=s||(s=""),lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(n+s,i,!1))}t.sendInfo=e,t.onGetComplete=i}(Network||(Network={}));var SocketManager;!function(SocketManager){function connectServer(t,e){void 0===t&&(t=""),void 0===e&&(e=80),this.sock=new egret.WebSocket,this.sock.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.sock.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.sock.connect(t,e)}function onSocketOpen(){}function onReceiveMessage(){var msg=this.sock.readUTF(),data=eval("("+msg+")");lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(data.cmd,data,!1))}function sendMessage(t){void 0===t&&(t=""),this.sock.writeUTF(t)}var sock=new egret.WebSocket;SocketManager.connectServer=connectServer,SocketManager.onSocketOpen=onSocketOpen,SocketManager.onReceiveMessage=onReceiveMessage,SocketManager.sendMessage=sendMessage}(SocketManager||(SocketManager={}));var MainNotify;!function(t){t.openStartPanelNotify="openStartPanelNotify",t.startGameNotify="startGameNotify",t.openMainNotify="openMainNotify",t.openGamePanelNotify="openGamePanelNotify",t.openPanelNotify="openPanelNotify"}(MainNotify||(MainNotify={}));var NoticeNotify;!function(t){t.CREATE_ROLE="logic.playerHandler.named"}(NoticeNotify||(NoticeNotify={}));var lcp;!function(t){var e=function(){function t(){this.CLASS_NAME="SingletonUtil"}var e=(__define,t);return p=e.prototype,t.singleton=function(t){return null==this._singletonMap&&(this._singletonMap={}),t in this._singletonMap?this._singletonMap[t]:this._singletonMap[t]=new t},t.multiton=function(t,e){return null==this._multitonMap&&(this._multitonMap={}),t in this._multitonMap||(this._multitonMap[t]={}),e in this._multitonMap[t]||(this._multitonMap[t][e]=new t),this._multitonMap[t][e]},p.toString=function(){return this.CLASS_NAME},t}();t.SingletonUtil=e,egret.registerClass(e,"lcp.SingletonUtil")}(lcp||(lcp={}));var UserInfoUtil;!function(t){t.user,t.accountId="liuniannian2"}(UserInfoUtil||(UserInfoUtil={}));var EffectUtils;!function(t){function e(t,e){if(void 0===e&&(e=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[t.hashCode]){null!=this.rotationArr[t.hashCode]&&this.rotationArr[t.hashCode]||(this.rotationArr[t.hashCode]=!0);var i=function(){this.rotationArr[t.hashCode]&&null!=t&&(t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this))};t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this)}}function i(t){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[t.hashCode]=!1}function n(t,e){void 0===e&&(e=1e3),new BitmapBlink(t,e)}function s(t){var e=80,i=t.x;egret.Tween.get(t).to({x:t.x-10},e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,2*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x-20},e)},this,3*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,4*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:i},e)},this,5*e)}function r(t){void 0===t&&(t=1);var e=GameConfig.curPanel,i=40,n=e.x,s=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},i)},this,2*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},i)},this,3*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},i)},this,4*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},i)},this,5*i)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},i)},this,2*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},i)},this,3*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},i)},this,4*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},i)},this,5*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:n,y:s},i)},this,6*i))}function a(t,e,i){switch(void 0===t&&(t=""),void 0===e&&(e=1),void 0===i&&(i=!1),e){case 1:TipsUtils.showTipsDownToUp(t,i);break;case 2:TipsUtils.showTipsLeftOrRight(t,i,!0);break;case 3:TipsUtils.showTipsLeftOrRight(t,i,!1);break;case 4:TipsUtils.showTipsFromCenter(t,i);break;case 5:TipsUtils.showTipsBigToSmall(t,i)}}function o(t,e){if(void 0===e&&(e=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var i=function(){this.isPlayEffectPlay=!1},n=function(){1==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(i,this):2==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.backOut).call(i,this):3==e&&egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},100).call(i,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(n,this)}}function h(t,e){void 0===e&&(e=function(){});var i=function(){egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(e,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(i,this)}function l(t){var e=function(){if(null!=t){var i=function(){t.scaleX=1,t.scaleY=1,egret.Tween.get(t).to({alpha:1},1e3).call(e,self)};t.alpha=1,egret.Tween.get(t).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(i,self)}};e()}function c(t,e,i){void 0===i&&(i=50);var n=function(){if(null!=t){var s=function(){egret.Tween.get(t).to({y:t.y-i},e).call(n,this)};egret.Tween.get(t).to({y:t.y+i},e).call(s,this)}};n()}function d(t,e,i){void 0===i&&(i=20);var n=function(){if(null!=t){var s=function(){egret.Tween.get(t).to({rotation:-i},e).call(n,this)};egret.Tween.get(t).to({rotation:i},e).call(s,this)}};n()}function u(t,e,i){void 0===e&&(e=""),void 0===i&&(i=200);for(var n=e.split(""),s=n.length,r=0;s>r;r++)egret.setTimeout(function(){t.appendText(n[Number(this)])},r,i*r)}t.rotationEffect=e,t.removeRotationEffect=i,t.blinkEffect=n,t.shakeObj=s,t.shakeScreen=r,t.showTips=a;t.playEffect=o,t.playEffect2=h,t.playScaleEffect=l,t.flyObj=c,t.rockObj=d,t.typerEffect=u}(EffectUtils||(EffectUtils={}));var Global;!function(t){function e(t,e,i,n){return void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1),new lcp.LEvent(t,e,i,n)}function i(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1);var s=new lcp.LEvent(t,e,i,n);lcp.LListener.getInstance().dispatchEvent(s)}function n(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),lcp.LListener.getInstance().addEventListener(t,e,i,n,s)}function s(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),lcp.LListener.getInstance().removeEventListener(t,e,i,n)}function r(){}function a(t){void 0===t&&(t=!1),t?(window.rootContainer.rotation=90,window.rootContainer.x=egret.MainContext.instance.stage.stageWidth):(window.rootContainer.rotation=0,window.rootContainer.x=0)}function o(t,e,i,n){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=null),void 0===n&&(n=1),null==this._alert}function h(t,e,i,n,s){void 0===t&&(t=""),void 0===e&&(e=""),void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=1),null==this._alert}function l(){null!=this._alert&&(this._alert=null)}function c(){}function d(){null!=this._share&&(this._share=null)}t.Event=e,t.dispatchEvent=i,t.addEventListener=n,t.removeEventListener=s,t.shareUtils=r,t.rotationResize=a,t.alert=o,t.confirm=h,t.closeAlertPanel=l,t.share=c,t.closeSharePanel=d}(Global||(Global={}));var lcp;!function(t){var e=function(){function t(t){void 0===t&&(t={}),this.elements=t,this.CLASS_NAME="LDictionary",this.hasSpecialProto=!1,this.specialProto=void 0}var e=(__define,t);return p=e.prototype,p.has=function(t){return"__proto__"===t?this.hasSpecialProto:{}.hasOwnProperty.call(this.elements,t)},p.get=function(t){return"__proto__"===t?this.specialProto:this.has(t)?this.elements[t]:void 0},p.set=function(t,e){"__proto__"===t?(this.hasSpecialProto=!0,this.specialProto=e):this.elements[t]=e},p.remove=function(t){"__proto__"===t?(this.hasSpecialProto=!1,this.specialProto=void 0):delete this.elements[t]},p.toString=function(){return this.CLASS_NAME},t}();t.LDictionary=e,egret.registerClass(e,"lcp.LDictionary")}(lcp||(lcp={}));var md5=function(){function t(){this.hexcase=0,this.b64pad=""}var e=(__define,t);return p=e.prototype,p.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},p.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},p.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},p.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},p.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},p.any_hmac_md5=function(t,e,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),i)},p.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},p.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},p.rstr_hmac_md5=function(t,e){var i=this.rstr2binl(t);i.length>16&&(i=this.binl_md5(i,8*t.length));for(var n=Array(16),s=Array(16),r=0;16>r;r++)n[r]=909522486^i[r],s[r]=1549556828^i[r];var a=this.binl_md5(n.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(s.concat(a),640))},p.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",s="",r=0;r<t.length;r++)i=t.charCodeAt(r),s+=n.charAt(i>>>4&15)+n.charAt(15&i);return s},p.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",s=t.length,r=0;s>r;r+=3)for(var a=t.charCodeAt(r)<<16|(s>r+1?t.charCodeAt(r+1)<<8:0)|(s>r+2?t.charCodeAt(r+2):0),o=0;4>o;o++)n+=8*r+6*o>8*t.length?this.b64pad:i.charAt(a>>>6*(3-o)&63);return n},p.rstr2any=function(t,e){var i,n,s,r,a,o=e.length,h=Array(Math.ceil(t.length/2));for(i=0;i<h.length;i++)h[i]=t.charCodeAt(2*i)<<8|t.charCodeAt(2*i+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),c=Array(l);for(n=0;l>n;n++){for(a=Array(),r=0,i=0;i<h.length;i++)r=(r<<16)+h[i],s=Math.floor(r/o),r-=s*o,(a.length>0||s>0)&&(a[a.length]=s);c[n]=r,h=a}var d="";for(i=c.length-1;i>=0;i--)d+=e.charAt(c[i]);return d},p.str2rstr_utf8=function(t){for(var e,i,n="",s=-1;++s<t.length;)e=t.charCodeAt(s),i=s+1<t.length?t.charCodeAt(s+1):0,e>=55296&&56319>=e&&i>=56320&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),s++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n},p.str2rstr_utf16le=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i),t.charCodeAt(i)>>>8&255);return e},p.str2rstr_utf16be=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)>>>8&255,255&t.charCodeAt(i));return e},p.rstr2binl=function(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(var i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e},p.binl2rstr=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},p.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,s=-1732584194,r=271733878,a=0;a<t.length;a+=16){var o=i,h=n,l=s,c=r;i=this.md5_ff(i,n,s,r,t[a+0],7,-680876936),r=this.md5_ff(r,i,n,s,t[a+1],12,-389564586),s=this.md5_ff(s,r,i,n,t[a+2],17,606105819),n=this.md5_ff(n,s,r,i,t[a+3],22,-1044525330),i=this.md5_ff(i,n,s,r,t[a+4],7,-176418897),r=this.md5_ff(r,i,n,s,t[a+5],12,1200080426),s=this.md5_ff(s,r,i,n,t[a+6],17,-1473231341),n=this.md5_ff(n,s,r,i,t[a+7],22,-45705983),i=this.md5_ff(i,n,s,r,t[a+8],7,1770035416),r=this.md5_ff(r,i,n,s,t[a+9],12,-1958414417),s=this.md5_ff(s,r,i,n,t[a+10],17,-42063),n=this.md5_ff(n,s,r,i,t[a+11],22,-1990404162),i=this.md5_ff(i,n,s,r,t[a+12],7,1804603682),r=this.md5_ff(r,i,n,s,t[a+13],12,-40341101),s=this.md5_ff(s,r,i,n,t[a+14],17,-1502002290),n=this.md5_ff(n,s,r,i,t[a+15],22,1236535329),i=this.md5_gg(i,n,s,r,t[a+1],5,-165796510),r=this.md5_gg(r,i,n,s,t[a+6],9,-1069501632),s=this.md5_gg(s,r,i,n,t[a+11],14,643717713),n=this.md5_gg(n,s,r,i,t[a+0],20,-373897302),i=this.md5_gg(i,n,s,r,t[a+5],5,-701558691),r=this.md5_gg(r,i,n,s,t[a+10],9,38016083),s=this.md5_gg(s,r,i,n,t[a+15],14,-660478335),n=this.md5_gg(n,s,r,i,t[a+4],20,-405537848),i=this.md5_gg(i,n,s,r,t[a+9],5,568446438),r=this.md5_gg(r,i,n,s,t[a+14],9,-1019803690),s=this.md5_gg(s,r,i,n,t[a+3],14,-187363961),n=this.md5_gg(n,s,r,i,t[a+8],20,1163531501),i=this.md5_gg(i,n,s,r,t[a+13],5,-1444681467),r=this.md5_gg(r,i,n,s,t[a+2],9,-51403784),s=this.md5_gg(s,r,i,n,t[a+7],14,1735328473),n=this.md5_gg(n,s,r,i,t[a+12],20,-1926607734),i=this.md5_hh(i,n,s,r,t[a+5],4,-378558),r=this.md5_hh(r,i,n,s,t[a+8],11,-2022574463),s=this.md5_hh(s,r,i,n,t[a+11],16,1839030562),n=this.md5_hh(n,s,r,i,t[a+14],23,-35309556),i=this.md5_hh(i,n,s,r,t[a+1],4,-1530992060),r=this.md5_hh(r,i,n,s,t[a+4],11,1272893353),s=this.md5_hh(s,r,i,n,t[a+7],16,-155497632),n=this.md5_hh(n,s,r,i,t[a+10],23,-1094730640),i=this.md5_hh(i,n,s,r,t[a+13],4,681279174),r=this.md5_hh(r,i,n,s,t[a+0],11,-358537222),s=this.md5_hh(s,r,i,n,t[a+3],16,-722521979),n=this.md5_hh(n,s,r,i,t[a+6],23,76029189),i=this.md5_hh(i,n,s,r,t[a+9],4,-640364487),r=this.md5_hh(r,i,n,s,t[a+12],11,-421815835),s=this.md5_hh(s,r,i,n,t[a+15],16,530742520),n=this.md5_hh(n,s,r,i,t[a+2],23,-995338651),i=this.md5_ii(i,n,s,r,t[a+0],6,-198630844),r=this.md5_ii(r,i,n,s,t[a+7],10,1126891415),s=this.md5_ii(s,r,i,n,t[a+14],15,-1416354905),n=this.md5_ii(n,s,r,i,t[a+5],21,-57434055),i=this.md5_ii(i,n,s,r,t[a+12],6,1700485571),r=this.md5_ii(r,i,n,s,t[a+3],10,-1894986606),s=this.md5_ii(s,r,i,n,t[a+10],15,-1051523),n=this.md5_ii(n,s,r,i,t[a+1],21,-2054922799),i=this.md5_ii(i,n,s,r,t[a+8],6,1873313359),r=this.md5_ii(r,i,n,s,t[a+15],10,-30611744),s=this.md5_ii(s,r,i,n,t[a+6],15,-1560198380),n=this.md5_ii(n,s,r,i,t[a+13],21,1309151649),i=this.md5_ii(i,n,s,r,t[a+4],6,-145523070),r=this.md5_ii(r,i,n,s,t[a+11],10,-1120210379),s=this.md5_ii(s,r,i,n,t[a+2],15,718787259),n=this.md5_ii(n,s,r,i,t[a+9],21,-343485551),i=this.safe_add(i,o),n=this.safe_add(n,h),s=this.safe_add(s,l),r=this.safe_add(r,c)}return[i,n,s,r]},p.md5_cmn=function(t,e,i,n,s,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(n,r)),s),i)},p.md5_ff=function(t,e,i,n,s,r,a){return this.md5_cmn(e&i|~e&n,t,e,s,r,a)},p.md5_gg=function(t,e,i,n,s,r,a){return this.md5_cmn(e&n|i&~n,t,e,s,r,a)},p.md5_hh=function(t,e,i,n,s,r,a){return this.md5_cmn(e^i^n,t,e,s,r,a)},p.md5_ii=function(t,e,i,n,s,r,a){return this.md5_cmn(i^(e|~n),t,e,s,r,a)},p.safe_add=function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},p.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();egret.registerClass(md5,"md5");var NativeApi;!function(t){function e(t,e){egret.localStorage.setItem(t,e)}function i(t){return egret.localStorage.getItem(t)}function n(t){egret.localStorage.removeItem(t)}function s(){egret.localStorage.clear()}function r(e){if("undefined"!=typeof FileReader&&/image/i.test(e.type)){var i=new FileReader;i.onload=function(){alert("数据读取完成");var e=document.getElementById("result");e.innerHTML='<img id="photoImg" src="'+this.result+'" alt="" />';var i=new egret.Texture;i._setBitmapData(document.getElementById("photoImg")),t.srcImg.texture=i},i.readAsDataURL(e)}}function a(t){"undefined"!=typeof t&&t.length>0?r(t[0]):alert("抱歉！当前系统不支持此功能！")}function o(t){this.srcImg=t;var e=document.getElementById("files-upload");e.click();var i=this;e.addEventListener("change",function(){i.traverseFiles(this.files)},!1)}function h(){}function l(){}function c(t){window.open("tel:"+t,"_self")}function d(t){window.open("sms:"+t,"_self")}function u(){return window.location.href}function g(t){void 0===t&&(t=!1)}function f(){}t.setLocalData=e,t.getLocalData=i,t.deleteLocalData=n,t.clearLocalData=s,t.srcImg=new egret.Bitmap,t.uploadFile=r,t.traverseFiles=a,t.fileUpload=o,t.getMic=h,t.getScreen=l,t.callPhone=c,t.sendMessage=d,t.getCurUrl=u,t.curAngle=window.orientation,t.showVerticalTips=g,t.removeVerticalTips=f}(NativeApi||(NativeApi={}));var RegUtils;!function(t){function e(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return e.test(t)?!0:(alert("您输入的Email地址格式不正确！"),!1)}function i(t){if(r(t))return!1;var e=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return e.test(t)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function n(t){var e="/^[1][3][0-9]{9}$/",i=new RegExp(e);return i.test(t)?!0:!1}function s(t){var e=/^[0][1-9]{2,3}-[0-9]{5,10}$/,i=/^[1-9]{1}[0-9]{5,8}$/,n="您输入的电话号码不正确!";return t.length>9?e.test(t)?!0:(alert(n),!1):i.test(t)?!0:(alert(n),!1)}function r(t){if(""==t)return!0;var e="^[ ]+$",i=new RegExp(e);return i.test(t)}function a(t){var e=/^[-]{0,1}[0-9]{1,}$/;return e.test(t)}function o(t){var e="^[0-9]+$",i=new RegExp(e);return-1!=t.search(i)?!0:!1}function h(t){var e="^[0-9]+[.][0-9]{0,3}$",i=new RegExp(e);return i.test(t)?!0:!1}function l(t,e){var i=" ",n=-1;if(0==e||1==e){for(;" "==i;)++n,i=t.substr(n,1);t=t.substring(n)}if(0==e||2==e){for(i=" ",n=t.length;" "==i;)--n,i=t.substr(n,1);t=t.substring(0,n+1)}return t}t.checkEmail=e,t.isIP=i,t.checkMobile=n,t.checkPhone=s,t.isNull=r,t.isInteger=a,t.isNumber=o,t.isMoney=h,t.cTrim=l}(RegUtils||(RegUtils={}));var BitmapBlink=function(t){function e(e,i,n){void 0===n&&(n=!0),t.call(this),this._target=e,this._time=i,n&&this.start()}__extends(e,t);var i=(__define,e);return p=i.prototype,p.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},p.runDown=function(){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},p.runUp=function(){this._target.alpha+=.045,this.checkOver()||this._target.alpha>=1&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},p.checkOver=function(){var t=egret.getTimer();return t-this._currTime>=this._time?(this.destroy(),!0):!1},p.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);egret.registerClass(BitmapBlink,"BitmapBlink");var lcp;!function(t){var e=function(t){function e(e,i,n,s){void 0===i&&(i=null),void 0===n&&(n=!1),void 0===s&&(s=!1),t.call(this,e,n,s),this.CLASS_NAME="LEvent",i&&(this._obj=i)}__extends(e,t);var i=__define,n=e;return p=n.prototype,p.clone=function(t){return new e(this.type,t?t:this._obj,this.bubbles,this.cancelable)},p.toString=function(){console.log(this.CLASS_NAME,"type","bubbles","cancelable")},i(p,"param",function(){return this._obj}),e}(egret.Event);t.LEvent=e,egret.registerClass(e,"lcp.LEvent")}(lcp||(lcp={}));var lcp;!function(t){var e=function(){function t(){this.CLASS_NAME="LListener",this.isInit=!1,this.isInit,null==this._dispatcher&&(this._dispatcher=new egret.EventDispatcher,this.isInit=!0)}var e=(__define,t);return p=e.prototype,t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},p.addEventListener=function(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),this._dispatcher.addEventListener(t,e,i,n,s)},p.removeEventListener=function(t,e,i,n){void 0===n&&(n=!1),this._dispatcher.removeEventListener(t,e,i,n)},p.hasEventListener=function(t){return this._dispatcher.hasEventListener(t)},p.willTrigger=function(t){return this._dispatcher.willTrigger(t)},p.dispatchEvent=function(t){return this._dispatcher.dispatchEvent(t)},p.toString=function(){return this._dispatcher.toString()},t}();t.LListener=e,egret.registerClass(e,"lcp.LListener")}(lcp||(lcp={}));var TipsUtils;!function(t){function e(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new egret.TextField;i.size=24,i.y=GameConfig.curHeight()/2,i.textColor=e?GameConfig.TextColors.red:GameConfig.TextColors.green,i.alpha=0,i.text=t,i.strokeColor=0,i.x=GameConfig.curWidth()/2-i.width/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER;var n=function(){},s=function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)};i.visible=!0,egret.Tween.get(i).to({y:i.y-120,alpha:1},800,egret.Ease.backOut).call(s,this)}function i(t,e,i){void 0===t&&(t=""),void 0===e&&(e=!1),void 0===i&&(i=!0);var n=new egret.TextField;n.size=24,n.y=GameConfig.curHeight()/2,n.textColor=e?GameConfig.TextColors.red:GameConfig.TextColors.green,n.alpha=0,n.text=t,n.strokeColor=0,n.x=i?-n.width:GameConfig.curWidth(),n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER,i?egret.Tween.get(n).to({x:GameConfig.curWidth()/2-n.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(n).to({x:GameConfig.curWidth()/2-n.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){i?egret.Tween.get(n).to({x:n.x+100},500):egret.Tween.get(n).to({x:n.x-100},500)},this,300),egret.setTimeout(function(){i?egret.Tween.get(n).to({x:GameConfig.curWidth()},300,egret.Ease.sineIn):egret.Tween.get(n).to({x:-n.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){},this,1100)}function n(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new egret.TextField;i.size=24,i.y=GameConfig.curHeight()/2,i.textColor=e?GameConfig.TextColors.red:GameConfig.TextColors.green,i.alpha=0,i.text=t,i.strokeColor=0,i.x=GameConfig.curWidth()/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER,i.scaleX=0,i.scaleY=0;var n=function(){};egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)},this,1e3)}function s(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new egret.TextField;i.size=24,i.y=GameConfig.curHeight()/2,i.textColor=e?GameConfig.TextColors.red:GameConfig.TextColors.green,i.alpha=0,i.text=t,i.strokeColor=0,i.x=GameConfig.curWidth()/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER,i.scaleX=4,i.scaleY=4;var n=function(){};egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)},this,1e3)
}t.showTipsDownToUp=e,t.showTipsLeftOrRight=i,t.showTipsFromCenter=n,t.showTipsBigToSmall=s}(TipsUtils||(TipsUtils={}));var JSSDK=function(){function t(){this.CLASS_NAME="JSSDK"}var e=(__define,t);return p=e.prototype,p.init=function(){var t=RES.getRes("config_json"),e=location.href.split("#")[0];this.title=t.data.title1,this.desc=t.data.des1,this.title1=t.data.title2,this.desc1=t.data.des2,this.link=e,this.imgUrl=t.data.imgurl,this.url=t.data.shareurl,Network.sendInfo(this.url,"url="+encodeURIComponent(e),egret.URLRequestMethod.GET),lcp.LListener.getInstance().addEventListener(this.url,this.getSignPackage,this)},p.setTitle=function(){var t=RES.getRes("config_json");this.title=t.data.title3+GlobalData.score+t.data.title3_1,this.desc=t.data.title3+GlobalData.score+t.data.title3_1,this.title1=t.data.title3+GlobalData.score+t.data.title3_1,this.desc1=t.data.title3+GlobalData.score+t.data.title3_1,this.link=t.data.link,this.imgUrl=t.data.imgurl;var e=location.href.split("#")[0];this.url=t.data.shareurl,Network.sendInfo(this.url,"url="+encodeURIComponent(e),egret.URLRequestMethod.GET),lcp.LListener.getInstance().addEventListener(this.url,this.getSignPackage,this)},p.getSignPackage=function(t){this.signPackage=JSON.parse(t.param),this.getWeiXinConfig(),wx.ready(this.getWeiXinShareTimeline.bind(this))},p.getWeiXinConfig=function(){var t=new BodyConfig;t.debug=!1,t.appId=this.signPackage.appId,t.timestamp=this.signPackage.timestamp,t.nonceStr=this.signPackage.nonceStr,t.signature=this.signPackage.signature,t.jsApiList=["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","translateVoice","startRecord","stopRecord","playVoice","pauseVoice","stopVoice","uploadVoice","downloadVoice","chooseImage","previewImage","uploadImage","downloadImage","getNetworkType","openLocation","getLocation","hideOptionMenu","showOptionMenu","closeWindow","scanQRCode","chooseWXPay","openProductSpecificView","addCard","chooseCard","openCard"],wx.config(t)},p.getWeiXinShareTimeline=function(){var t=new BodyMenuShareTimeline;t.title=this.desc,t.link=this.link,t.imgUrl=this.imgUrl,t.trigger=function(){PanelManager.getInfo()},t.success=function(){},t.cancel=function(){},t.fail=function(){},wx.onMenuShareTimeline(t);var e=new BodyMenuShareAppMessage;e.title=this.desc1,e.desc=this.title1,e.link=this.link,e.imgUrl=this.imgUrl,e.trigger=function(){PanelManager.getInfo()},e.success=function(){},e.cancel=function(){},e.fail=function(){},wx.onMenuShareAppMessage(e)},p.getWeiXinShareAppMessage=function(){var t=new BodyMenuShareAppMessage;t.title=this.title,t.desc=this.desc,t.link=this.link,t.imgUrl=this.imgUrl,t.trigger=function(){alert("用户点击发送给朋友")},t.success=function(){alert("已分享")},t.cancel=function(){alert("已取消")},t.fail=function(t){alert(JSON.stringify(t))},wx.onMenuShareAppMessage(t)},p.getWeiXinShareQQ=function(){var t=new BodyMenuShareQQ;t.title=this.title,t.desc=this.desc,t.link=this.link,t.imgUrl=this.imgUrl,t.trigger=function(){alert("用户点击分享到QQ")},t.complete=function(t){alert(JSON.stringify(t))},t.success=function(){alert("已分享")},t.cancel=function(){alert("已取消")},t.fail=function(t){alert(JSON.stringify(t))},wx.onMenuShareQQ(t),alert("已注册获取“分享到QQ”状态事件")},p.getWeiXinShareWeiBo=function(){var t=new BodyMenuShareWeibo;t.title=this.title,t.desc=this.desc,t.link=this.link,t.imgUrl=this.imgUrl,t.trigger=function(){alert("用户点击分享到微博")},t.complete=function(t){alert(JSON.stringify(t))},t.success=function(){alert("已分享")},t.cancel=function(){alert("已取消")},t.fail=function(t){alert(JSON.stringify(t))},wx.onMenuShareWeibo(t),alert("已注册获取“分享到微博”状态事件")},t}();egret.registerClass(JSSDK,"JSSDK");var Main=function(t){function e(){t.apply(this,arguments),this.vparm=""}__extends(e,t);var i=(__define,e);return p=i.prototype,p.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",e),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},p.onConfigComplete=function(){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),new eui.Theme("resource/default.thm.json",this.stage),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("loading")},p.onResourceLoadComplete=function(t){"preload"==t.groupName?(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createScene()):"loading"==t.groupName&&(this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.loadGroup("preload"))},p.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},p.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},p.createScene=function(){this.gameLayer=new egret.DisplayObjectContainer,this.addChild(this.gameLayer),this.euiLayer=new eui.UILayer,this.addChild(this.euiLayer),this.tipsLayer=new egret.DisplayObjectContainer,this.addChild(this.tipsLayer);var t=new StartPanel;PanelManager.gameLayer=this.gameLayer,PanelManager.guiLayer=this.euiLayer,PanelManager.tipsLayer=this.tipsLayer,PanelManager.guiLayer.addChild(t),PanelManager.initMusic(),PanelManager.openMuisc();var e=new JSSDK;e.init(),GlobalData.jssdk=e,this.initData()},p.initData=function(){var t=(this.$GET("openid"),window.getJsonData()),e=JSON.parse(t);GlobalData.openid=e.openid,this.getInfo(GlobalData.openid)},p.getInfo=function(t){this.vparm="http://139.129.24.10:82/jm/user",Network.sendInfo("http://139.129.24.10:82/jm/user","openid="+t),lcp.LListener.getInstance().addEventListener(this.vparm,this.getInfoSucc,this)},p.getInfoSucc=function(t){lcp.LListener.getInstance().removeEventListener(this.vparm,this.getInfoSucc,this);JSON.parse(t.param)},p.$GET=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=location.search.substr(1).match(e);return null!=i?decodeURI(decodeURIComponent(decodeURI(i[2]))):""},e}(eui.UILayer);egret.registerClass(Main,"Main");var AssetAdapter=function(){function t(){}var e=(__define,t);return p=e.prototype,p.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=(__define,e);return p=i.prototype,p.createView=function(){this.bg=new egret.Bitmap,this.bg.texture=RES.getRes("loading_png"),this.addChild(this.bg),this.playB(),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.width=640,this.textField.textColor=7756867,this.textField.textAlign="center",this.textField.size=30,this.textField.y=600},p.playB=function(){var t=RES.getRes("mc_json"),e=RES.getRes("mc_png"),i=new egret.MovieClipDataFactory(t,e);this.mc=new egret.MovieClip(i.generateMovieClipData("tt")),this.addChild(this.mc),this.mc.x=69,this.mc.y=265},p.setProgress=function(t,e){this.textField.text="正在加载..."+parseInt(t/e*100+"")+"%"},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var ThemeAdapter=function(){function t(){}var e=(__define,t);return p=e.prototype,p.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);var GamePanel=function(t){function e(){t.call(this),this.flag=!1,this.score=0,this.count=0,this.speed=9,this.time=0,this.time1=0,this.time2=10,this.go=!1,this.isTime=!1,this.skinName="resource/skins/GamePanelSkin.exml"}__extends(e,t);var i=(__define,e);return p=i.prototype,p.childrenCreated=function(){this.sound=RES.getRes("click_mp3"),this.data=[-645,-371,-96,178,448],this.score=0,this.count=0,this.time=0,this.time1=0,this.time2=10,this.speed=9,this.flag=!1,this.go=!1,this.isTime=!1,this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnGoClick,this),this.guize.addEventListener(egret.TouchEvent.TOUCH_TAP,this.guizeClick,this),this.addEventListener(egret.Event.ENTER_FRAME,this.gogo,this),this.quan2=new eui.Image("quan_png"),this.quan2.x=0,this.quan2.y=-1232,this.addChild(this.quan2),this.setChildIndex(this.c360,this.numChildren-1),this.setChildIndex(this.btnStop,this.numChildren-1),this.setChildIndex(this.guize,this.numChildren-1),this.setChildIndex(this.txtTime,this.numChildren-1)},p.openMuisc=function(){this.closeMuisc(),this.channel=this.sound.play(0,1)},p.closeMuisc=function(){this.channel&&(this.channel.stop(),this.channel=null)},p.click=function(){this.hasEventListener(egret.Event.ENTER_FRAME)?this.removeEventListener(egret.Event.ENTER_FRAME,this.gogo,this):this.addEventListener(egret.Event.ENTER_FRAME,this.gogo,this)},p.gogo=function(){if(this.go){this.quan1.y>1136&&(this.quan1.y=-1232),this.quan2.y>1136&&(this.quan2.y=-1232),9==++this.count&&(6==++this.time&&(this.time=1),this.count=0);var t=0;1==this.time?t=274/this.speed:2==this.time?t=270/this.speed:3==this.time?t=275/this.speed:4==this.time?t=274/this.speed:5==this.time&&(t=274/this.speed),this.quan1.y+=t,this.quan2.y+=t}this.isTime&&30==++this.time1&&(this.time1=0,this.txtTime.text="Time:"+this.time2--+"S",this.time2<0&&this.gameOver())},p.gameOver=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.gogo,this);var t=9*Math.random();GlobalData.score=parseInt("8"+t);var e=new OverPanel(this.btnAgain.bind(this));PanelManager.guiLayer.addChild(e),PanelManager.guiLayer.setChildIndex(e,PanelManager.guiLayer.numChildren-1)},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},p.btnGoClick=function(){this.openMuisc(),this.removeEventListener(egret.Event.ENTER_FRAME,this.gogo,this),this.checkScore(),GlobalData.score=this.score,GlobalData.jssdk.setTitle();var t=new OverPanel(this.btnAgain.bind(this));PanelManager.guiLayer.addChild(t),PanelManager.guiLayer.setChildIndex(t,PanelManager.guiLayer.numChildren-1)},p.btnAgain=function(){this.addEventListener(egret.Event.ENTER_FRAME,this.gogo,this),this.go=!0,this.isTime=!0,this.score=0,this.count=0,this.time=0,this.time1=0,this.time2=10},p.checkScore=function(){var t=0;t=this.quan1.y<448&&this.quan1.y>-645?this.quan1.y:this.quan2.y;for(var e=0;e<this.data.length;e++)if(t<=this.data[e]+245){console.log("yy值是=="+t+"匹配的data值是=="+this.data[e]);var i=Math.abs(t-this.data[e]);console.log("求得的差值是=="+i),this.score=parseInt(i/245*100+"");break}this.score<50&&(this.score=100-this.score),console.log("你的得分是:"+this.score)},p.guizeClick=function(){this.guize.visible=!1,this.go=!0,this.isTime=!0},p.dispose=function(){this.btnStop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnGoClick,this),this.removeChildren()},e}(eui.Component);egret.registerClass(GamePanel,"GamePanel",["fany.IDispose"]);var NoJPanel=function(t){function e(){t.call(this),this.flag=!1,this.skinName="resource/skins/NoJPanelSkin.exml"}__extends(e,t);var i=(__define,e);return p=i.prototype,p.childrenCreated=function(){this.flag=!1,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnGoClick,this),setTimeout(this.openEr,5e3)},p.openEr=function(){var t=document.getElementById("gameDiv"),e=document.createElement("img");e.src="resource/assets/erweima2.png",e.style.width="100%",e.style.height="100%",e.style.position="absolute",t.appendChild(e)},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},p.btnGoClick=function(){},p.dispose=function(){this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnGoClick,this),this.removeChildren()},e}(eui.Component);egret.registerClass(NoJPanel,"NoJPanel",["fany.IDispose"]);var OverPanel=function(t){function e(e){t.call(this),this.flag=!1,this.flag1=!1,this.vparm="",this.skinName="resource/skins/OverPanelSkin.exml",this.callback=e}__extends(e,t);var i=(__define,e);return p=i.prototype,p.childrenCreated=function(){this.flag=!1,this.flag1=!1,this.btnJiang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnJiangClick,this),this.btnAgain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnAgainClick,this),this.btnAgain1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnAgain1Click,this),GlobalData.score>=95?(this.shengli.visible=!0,this.n3.source="n"+GlobalData.score.toString().charAt(0),this.n4.source="n"+GlobalData.score.toString().charAt(1)):(this.shibai.visible=!0,this.n1.source="n"+GlobalData.score.toString().charAt(0),this.n2.source="n"+GlobalData.score.toString().charAt(1))},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},p.btnAgainClick=function(){this.flag1||(EffectUtils.playEffect2(this.btnAgain,this.showGame.bind(this)),this.flag1=!0)},p.btnAgain1Click=function(){this.flag1||(EffectUtils.playEffect2(this.btnAgain1,this.showGame.bind(this)),this.flag1=!0)},p.showGame=function(){this.flag1=!1,PanelManager.guiLayer.removeChild(this),this.dispose(),this.callback()},p.btnJiangClick=function(){this.flag||(EffectUtils.playEffect2(this.btnJiang,this.showAdd.bind(this)),this.flag=!0,this.getInfo())},p.showAdd=function(){this.flag=!1},p.getInfo=function(){this.vparm="http://139.129.24.10:82/jm/user/draw-once",Network.sendInfo("http://139.129.24.10:82/jm/user/draw-once","openid="+GlobalData.openid),lcp.LListener.getInstance().addEventListener(this.vparm,this.getInfoSucc,this)},p.getInfoSucc=function(t){try{lcp.LListener.getInstance().removeEventListener(this.vparm,this.getInfoSucc,this);var e=JSON.parse(t.param);if(""==e[0].data){var i=new NoJPanel;return PanelManager.guiLayer.addChild(i),PanelManager.guiLayer.setChildIndex(i,PanelManager.guiLayer.numChildren-1),void alert("抽奖次数已经用完!")}if(e[0].data)if("1"==e[0].data.id){var n=new QuanJPanel(e[0].data.code,e[0].data.password);PanelManager.guiLayer.addChild(n),PanelManager.guiLayer.setChildIndex(n,PanelManager.guiLayer.numChildren-1)}else if("2"==e[0].data.id)this.openWalk("2");else if("3"==e[0].data.id)this.openWalk("3");else if("4"==e[0].data.id){var i=new NoJPanel;PanelManager.guiLayer.addChild(i),PanelManager.guiLayer.setChildIndex(i,PanelManager.guiLayer.numChildren-1)}else if("5"==e[0].data.id)this.openWalk("5");else if("6"==e[0].data.id)this.openWalk("6");else{var i=new NoJPanel;PanelManager.guiLayer.addChild(i),PanelManager.guiLayer.setChildIndex(i,PanelManager.guiLayer.numChildren-1)}else{var i=new NoJPanel;PanelManager.guiLayer.addChild(i),PanelManager.guiLayer.setChildIndex(i,PanelManager.guiLayer.numChildren-1)}}catch(t){var i=new NoJPanel;PanelManager.guiLayer.addChild(i),PanelManager.guiLayer.setChildIndex(i,PanelManager.guiLayer.numChildren-1)}},p.openWalk=function(t){var e=new WarkJPanel(t);PanelManager.guiLayer.addChild(e),PanelManager.guiLayer.setChildIndex(e,PanelManager.guiLayer.numChildren-1)},p.dispose=function(){this.btnJiang.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnJiangClick,this),this.removeChildren()},e}(eui.Component);egret.registerClass(OverPanel,"OverPanel",["fany.IDispose"]);var QuanJPanel=function(t){function e(e,i){t.call(this),this.code="",this.passw="",this.flag=!1,this.skinName="resource/skins/QuanJPanelSkin.exml",this.code=e,this.passw=i}__extends(e,t);var i=(__define,e);return p=i.prototype,p.childrenCreated=function(){this.flag=!1,this.txtQuan.text=this.code,this.txtMi.text=this.passw},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},p.btnSubmitClick=function(){},p.dispose=function(){this.removeChildren()},e}(eui.Component);egret.registerClass(QuanJPanel,"QuanJPanel",["fany.IDispose"]);var StartPanel=function(t){function e(){t.call(this),this.flag=!1,this.skinName="resource/skins/StartPanelSkin.exml"}__extends(e,t);var i=(__define,e);return p=i.prototype,p.childrenCreated=function(){this.flag=!1,this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnGoClick,this)},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},p.btnGoClick=function(){this.flag||(EffectUtils.playEffect2(this.btnGo,this.showAdd.bind(this)),this.flag=!0,PanelManager.openMuisc())},p.showAdd=function(){this.flag=!1,this.dispose(),PanelManager.guiLayer.addChild(new GamePanel),PanelManager.initMusic()},p.dispose=function(){this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnGoClick,this),this.removeChildren()},e}(eui.Component);egret.registerClass(StartPanel,"StartPanel",["fany.IDispose"]);var WarkJPanel=function(t){function e(e){t.call(this),this.idd="",this.flag=!1,this.vparm="",this.skinName="resource/skins/WarkJPanelSkin.exml",this.idd=e}__extends(e,t);var i=(__define,e);return p=i.prototype,p.childrenCreated=function(){this.flag=!1,this.btnSubmit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnSubmitClick,this),"5"==this.idd?this.jiang.source="jingtou":"6"==this.idd?this.jiang.source="mingpian":"2"==this.idd?this.jiang.source="jilu":"3"==this.idd&&(this.jiang.source="maozi")},p.getInfo=function(){this.vparm="http://139.129.24.10:82/jm/user",Network.sendInfo("http://139.129.24.10:82/jm/user","openid="+GlobalData.openid+"&name="+this.txtName.text+"&tel="+this.txtTel.text+"&address="+this.txtAddress.text),lcp.LListener.getInstance().addEventListener(this.vparm,this.getInfoSucc,this)},p.getInfoSucc=function(t){lcp.LListener.getInstance().removeEventListener(this.vparm,this.getInfoSucc,this);var e=(JSON.parse(t.param),document.getElementById("gameDiv")),i=document.createElement("img");i.src="resource/assets/erweima.png",i.style.width="100%",i.style.height="100%",i.style.position="absolute",e.appendChild(i)},p.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},p.btnSubmitClick=function(){return""==this.txtName.text||""==this.txtAddress.text||""==this.txtTel.text?void alert("不能为空!"):void this.getInfo()},p.dispose=function(){this.btnSubmit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.btnSubmitClick,this),this.removeChildren()},e}(eui.Component);egret.registerClass(WarkJPanel,"WarkJPanel",["fany.IDispose"]);